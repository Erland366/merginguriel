# Ablation: NeuroMerging Validation
#
# Purpose: Test NeuroMerging against TIES and similarity baselines
# on constructive (sw-KE), low-ratio (cy-GB), and destructive (vi-VN) targets.
#
# NeuroMerging key features:
# - Decomposes task vectors into parallel (input sensitivity) and orthogonal (task adaptability) subspaces
# - Merges primarily in orthogonal subspace which preserves ~88% of task-specific capabilities
# - Expected to reduce interference for cy-GB and improve synergy for sw-KE
#
# Expected runs: 3 locales Ã— 3 methods = 9 runs

ablation:
  name: "neuromerging_validation_v1"
  description: "Compare NeuroMerging vs TIES vs similarity on constructive/low-ratio/destructive targets"

  fixed:
    similarity_type: "REAL"  # Use REAL similarity (empirical cross-lingual)
    num_languages: 5
    include_target: false
    model_family: "xlm-roberta-base"
    models_root: "haryos_model"
    merged_models_dir: "merged_models"
    dataset_name: "AmazonScience/massive"
    text_column: "utt"
    locales:
      - "sw-KE"  # Constructive (56% ZS/Self, +2.30% merging effect)
      - "cy-GB"  # Low-ratio but destructive (53.6% ZS/Self, -1.58% merging effect)
      - "vi-VN"  # Destructive (86% ZS/Self)

  sweep:
    method:
      - "neuromerging"  # New: neuron-level subspace decomposition
      - "ties"          # Baseline: TIES elect+mean
      - "similarity"    # Baseline: similarity-weighted linear

  db_path: "experiments_neuromerging.db"
  resume: true
